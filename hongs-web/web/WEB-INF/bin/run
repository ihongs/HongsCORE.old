#!/bin/bash

bindir=$(cd `dirname $0`; pwd)
CORE_PATH=`dirname $bindir`
JAVA_PATH=`command -v java`
KLASSPATH="$CLASSPATH:$CORE_PATH/lib/*:$CORE_PATH/lib/classes:$CORE_PATH/classes"

# Check java is exists
if [ '' = $JAVA_PATH ]
then
    if [ '' = $JAVA_HOME]
    then
        echo  "Java not found!"; exit 1
    else
        JAVA_PATH="$JAVA_HOME/bin/java"
    fi
fi

"$JAVA_PATH" \
-classpath "$KLASSPATH" \
-Dlogs.dir="$CORE_PATH/var/log"  \
app.hongs.cmdlet.CmdletRunner $@ \
--corepath-- "$CORE_PATH"