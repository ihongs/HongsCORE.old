<h2>选择实体</h2>

<div id="hcim-entity-pick-list">
    <object class="config" name="hsList" data="">
        <param name="loadUrl" value="('hcim/Entity/List.act?sort=-ctime')"/>
        <param name="openUrls[]" value="['.create','hcim/entity/form.html','{OPENBOX}']"/>
        <param name="_fill__pick" value="(hsListFillPick)"/>
        <param name="idKey" value="id"/>
    </object>
    <div>
        <form class="fl toolbox btn-group">
            <button type="button" class="ensure btn btn-primary">确认选择</button>
            <button type="button" class="create btn btn-default">创建实体</button>
        </form>
        <form class="fr findbox btn-group" action="" method="POST">
            <input type="search" name="find" class="form-control"/>
            <button type="submit" class="btn btn-default">查找</button>
        </form>
        <div class="cb"></div>
    </div>
    <div class="listbox table-responsive">
        <table class="table table-hover table-striped">
            <thead>
                <tr>
                    <th data-fn="id" data-ft="_pick" class="_check">
                        <input type="checkbox" class="check-all" name="id[]"/>
                    </th>
                    <th data-fn="name" class="sortable">模型名称</th>
                    <th data-fn="mtime" data-ft="_htime" class="_htime sortable">修改时间</th>
                    <th data-fn="ctime" data-ft="_htime" class="_htime sortable">创建时间</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
    <div class="pagebox"></div>
    <div class="btn-group">
        <button type="button" class="ensure btn btn-primary">确认选择</button>
        <button type="button" class="cancel btn btn-link">取消</button>
    </div>
</div>

<script type="text/javascript">
    (function($) {
        var context = $("#hcim-entity-pick-list");
        var loadBox = context.closest(".load-box");
        var deny = hsGetParam(loadBox.data("url"), "deny");

        if (deny == "create") {
            context.find(".create").hide();
        }
    })(jQuery);
</script>